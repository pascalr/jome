
      <!DOCTYPE html>
      <HTML lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Jome</title>
          <link rel="stylesheet" type="text/css" href="/jome/stylesheet.css">
          <link rel="stylesheet" type="text/css" href="/jome/highlight.js.min.css">
          <link rel="stylesheet" type="text/css" href="/jome/hljs_tomorrow_night_bright.css">
          <link rel="apple-touch-icon" sizes="180x180" href="/jome/apple-touch-icon.png">
          <link rel="icon" type="image/png" sizes="32x32" href="/jome/favicon-32x32.png">
          <link rel="icon" type="image/png" sizes="16x16" href="/jome/favicon-16x16.png">
          <link rel="manifest" href="/jome/site.webmanifest">
        </head>
        <body>
          <div class="d-flex flex-column" style="min-height: 100vh;">
          
  <div class="navbar">
    <a class="navbrand" href="/jome/" style="margin-left: 4em;">Jome</a>
    <span style="flex-grow: 2;"></span>
    <a href="/jome/jome_in_js">WIP</a>
    <a href="/jome/getting_started">Getting started</a>
    <a href="/jome/ref">Language Reference</a>
    <a href="/jome/ex">Examples</a>
    <a href="/jome/jome_lib">JomeLib</a>
    <a href="/jome/in_depth">In depth</a>
    <a href="/jome/editor">Editor</a>
    <a href="https://github.com/pascalr/jome">GitHub</a>
    <span style="flex-grow: 1;"></span>
  </div>
          <div style="flex-grow: 1; height: calc(100vh - 50px);">
            <div class="d-flex" style="height: 100%;">
            
  <div id="left-nav" class="scrollable">
    <ul class="nav-list">
      <li><a href="/jome/">Home</a></li>
      <ul class="nav-list nav-sub">
        <li><a href="/jome/#overview">Overview</a></li>
        <li><a href="/jome/#features">Features</a></li>
        <li><a href="/jome/#editor">Editor</a></li>
        <li><a href="/jome/#proposals">Proposals</a></li>
      </ul>
      <li><a href="/jome/getting_started">Getting started</a></li>
      <ul class="nav-list nav-sub">
        <li><a href="/jome/getting_started/#install">Install</a></li>
        <li><a href="/jome/getting_started/#usage">Usage</a></li>
        <li><a href="/jome/getting_started/#hello-world">Hello world</a></li>
        <li><a href="/jome/getting_started/#index-jome">index.jome</a></li>
        <li><a href="/jome/getting_started/#config-jome">config.jome</a></li>
        <li><a href="/jome/getting_started/#createjomeapp">createjomeapp</a></li>
      </ul>
      <li><a href="/jome/ref">Language Reference</a></li>
      <ul class="nav-list nav-sub">
        <li><a href="/jome/ref/#syntax">Syntax</a></li>
        <ul class="nav-list nav-sub-sub">
          <li><a href="/jome/ref/#keywords">Keywords</a></li>
          <li><a href="/jome/ref/#comments">Comments</a></li>
        </ul>
        <li><a href="/jome/ref/#builtins">Built-Ins</a></li>
        <li><a href="/jome/ref/#strings">Strings</a></li>
        <ul class="nav-list nav-sub-sub">
          <li><a href="/jome/ref/#formatting">Formatting</a></li>
          <li><a href="/jome/ref/#heredocs">Heredocs</a></li>
          <li><a href="/jome/ref/#paths">Paths</a></li>
        </ul>
        <li><a href="/jome/ref/#conditions">Conditions</a></li>
        <li><a href="/jome/ref/#loops">Loops</a></li>
        <li><a href="/jome/ref/#switch-case">Switch/Case</a></li>
        <li><a href="/jome/ref/#with">With keyword</a></li>
        <li><a href="/jome/ref/#classes">Classes</a></li>
        <ul class="nav-list nav-sub-sub">
          <li><a href="/jome/ref/#formatting">Instance properties (@)</a></li>
        </ul>
        <li><a href="/jome/ref/#exports">Modules and exports</a></li>
        <li><a href="/jome/ref/#along">Along keyword</a></li>
        <li><a href="/jome/ref/#threads">Threads</a></li>
        <li><a href="/jome/ref/#private">Private</a></li>
        <li><a href="/jome/ref/#env">Environment variables</a></li>
        <li><a href="/jome/ref/#global">Global variables</a></li>
        <li><a href="/jome/ref/#chain">Chain</a></li>
        <li><a href="/jome/ref/#contributing">Contributing</a></li>
        <li><a href="/jome/ref/#ack">Acknowledgements</a></li>
      </ul>
      <li><a href="/jome/ex">Templates and Examples</a></li>
      <ul class="nav-list nav-sub">
        <li><a href="/jome/ex/TODO">Basic (TODO: Hello world)</a></li>
        <li><a href="/jome/ex/TODO">Static website (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Web server (TODO)</a></li>
        <li><a href="/jome/ex/TODO">MVC server (TODO)</a></li>
        <li><a href="/jome/ex/TODO">React (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Vue (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Svelte (TODO)</a></li>
        <li><a href="/jome/ex/TODO">2d game (TODO: Snake)</a></li>
        <li><a href="/jome/ex/TODO">3d game (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Android app (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Ios app (TODO)</a></li>
        <li><a href="/jome/ex/TODO">Command line tool (TODO)</a></li>
      </ul>
      <li><a href="/jome/in_depth">In depth</a></li>
      <ul class="nav-list nav-sub">
        <li><a href="/jome/TODO">createjomeapp</a></li>
        <li><a href="/jome/TODO">config.jome</a></li>
        <li><a href="/jome/TODO">CLI</a></li>
        <li><a href="/jome/formats">Formats</a></li>
        <li><a href="/jome/lib">Librairies</a></li>
        <ul class="nav-list nav-sub-sub">
          <li><a href="/jome/lib/html">Html</a></li>
          <li><a href="/jome/lib/html-layout">Html Layout</a></li>
          <li><a href="/jome/lib/express-server">Express Server</a></li>
        </ul>
      </ul>
    </ul>
  </div>
            <div class="scrollable" style="width: 100%;">
              <div class="main">
                <h1>Jome</h1>
<p>Jome is a virtual programming language on top of Javascript. It is a customizable way of seeing and modifying the code.</p>
<p>Instead of having a separate source file, it adds annotations in comments. This way, you don't need anything special to run it. It's just Javascript.</p>
<p>It also improves the base language by adding code validation and code generation.</p>
<h2>Source file syntax</h2>
<p>Jome stores metadata in comments in Javascript. They are surrounded by <code>/*_*</code> and <code>*/</code>.</p>
<pre><code class="language-js"><span class="hljs-comment">/*_* @jome 0.0.1 */</span>
</code></pre>
<p>If the comment is attached to before or after depends on the annotation. Ex: unit is before, param is after.</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> area = <span class="hljs-number">2</span> <span class="hljs-comment">/*_* @unit m */</span> * <span class="hljs-number">3</span> <span class="hljs-comment">/*_* @unit m */</span>
<span class="hljs-comment">/*_*
 * @param a ...
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">a</span>) {
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2>Plan</h2>
<h3>Step 1 - As is</h3>
<p>Parse javascript using the javascript grammar file already available.
Then compile the AST to javascript. Use a linter to standardize the js.
It should output the same file.</p>
<p>TODO: Try using acorn.</p>
<h3>Step 2 - Markdown</h3>
<p>Convert the AST into a notebook view with markdown given by @md.</p>
<pre><code class="language-js"><span class="hljs-comment">/** <span class="hljs-doctag">@md</span> # This is a *markdown* header */</span>
</code></pre>
<h3>Step 3 - Units</h3>
<p>Inside the notebook view, show @unit into Jome numbers with units.</p>
<pre><code class="language-js"><span class="hljs-keyword">let</span> x = <span class="hljs-number">2</span> <span class="hljs-comment">/** <span class="hljs-doctag">@unit</span> m */</span>
</code></pre>
<p>Should show:</p>
<pre><code class="language-jome"><span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">2 m</span>
</code></pre>
<h3>Step 4 - Models</h3>
<p>Show @model into xml tag in editor.</p>
<pre><code class="language-js"><span class="hljs-comment">/** <span class="hljs-doctag">@model</span> Recipe {
   attrs: [
     {name: &quot;name&quot;, type: &quot;string&quot;}
     {name: &quot;servings&quot;, type: &quot;string&quot;, optional: true}
   ],
   has_many: [
     {name: &quot;ingredients&quot;, model=&quot;ing&quot;, optional: true}
     {name: &quot;steps&quot;, model=&quot;step&quot;, optional: true}
   ],
   components: [
      {
        model: &quot;ing&quot;,
        attrs: [
          {name: &quot;qty&quot;, type: &quot;string&quot;}
          {name: &quot;name&quot;, type: &quot;string&quot;}
        ]
      },
      {
        model: &quot;step&quot;,
        content: {name: &quot;text&quot;, type: &quot;string&quot;}
      }
   ]
 }
*/</span>

<span class="hljs-comment">// Inside Recipe class if it exists:</span>

<span class="hljs-comment">/** <span class="hljs-doctag">@do</span> fr0aw893hf9h32hr08h230rhww3 */</span>
<span class="hljs-comment">// Code generated goes here</span>
<span class="hljs-comment">/** <span class="hljs-doctag">@end</span> fr0aw893hf9h32hr08h230rhww3 */</span>
</code></pre>
<pre><code class="language-jome"><span class="hljs-meta">&lt;?model Recipe name: <span class="hljs-string">&quot;string&quot;</span>
  &lt;attr name=<span class="hljs-string">&quot;servings&quot;</span> type=<span class="hljs-string">&quot;string&quot;</span> optional /&gt;
  &lt;has_many name=<span class="hljs-string">&quot;ingredients&quot;</span> model=<span class="hljs-string">&quot;ing&quot;</span> optional&gt;
  &lt;has_many name=<span class="hljs-string">&quot;steps&quot;</span> model=<span class="hljs-string">&quot;step&quot;</span> optional&gt;
  &lt;component model=<span class="hljs-string">&quot;ing&quot;</span>&gt;
    &lt;attr name=<span class="hljs-string">&quot;qty&quot;</span> type=<span class="hljs-string">&quot;string&quot;</span> /&gt;
    &lt;attr name=<span class="hljs-string">&quot;name&quot;</span> type=<span class="hljs-string">&quot;string&quot;</span> /&gt;
  &lt;/component&gt;
  &lt;component model=<span class="hljs-string">&quot;step&quot;</span>&gt;
    &lt;content name=<span class="hljs-string">&quot;text&quot;</span> type=<span class="hljs-string">&quot;string&quot;</span> /&gt;
  &lt;/component&gt;
?&gt;</span>
</code></pre>
<h2>Sync text from file</h2>
<p>Every time the file is verified, the string is validated to make sure that it matches the content of the file.</p>
<p>Usefull for inlining stuff inside a webpage for example.</p>
<pre><code class="language-js"><span class="hljs-comment">/*_* @sync_source config.json */</span>
<span class="hljs-keyword">let</span> cfg = <span class="hljs-string">&quot;{foo: &#x27;bar&#x27;}&quot;</span>
</code></pre>
<h2>Strings and tags</h2>
<pre><code class="language-js"><span class="hljs-keyword">let</span> color = <span class="hljs-comment">/** <span class="hljs-doctag">@tag</span> color */</span> <span class="hljs-string">`#abcdef`</span>
</code></pre>
<h2>Tables</h2>
<h2>With block</h2>
<p>A with block should be a code generator that generates code to handle stdin.</p>
<h2>main</h2>
<p>Since a file is now only a .js file, I need a way to mean execute code. Maybe a main file? Or implicit when using a with block?</p>
<h2>Annotation to say that it is Jome code?</h2>
<pre><code class="language-js"><span class="hljs-comment">/** <span class="hljs-doctag">@jome</span> 0.0.1 */</span>
</code></pre>
<h2>WIP</h2>
<p>This would mean using a parser for .js files.</p>
<p>.js file =&gt; jome transcription =&gt; some editing =&gt; save to same .js file with annotations to lose no information</p>
<p>No project config. Only user config. User personal library.</p>
<pre><code class="language-jome"><span class="hljs-comment"># Some example</span>
<span class="hljs-keyword">with</span> <span class="hljs-variable">distance</span> = <span class="hljs-number">1 m</span> <span class="hljs-keyword">end</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">force</span> = <span class="hljs-number">10 N</span>
</code></pre>
<pre><code class="language-js"><span class="hljs-comment">//@md # Some example</span>
<span class="hljs-keyword">let</span> force = <span class="hljs-number">10</span> <span class="hljs-comment">//@unit N</span>

<span class="hljs-comment">//@arg distance</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-function">(<span class="hljs-params">distance = <span class="hljs-number">1</span> <span class="hljs-comment">/*@unit m*/</span></span>) =&gt;</span> {
  
}
</code></pre>
<p>For Jome data in comments, it uses two stars like JSDoc. So it must be compatible.</p>
<p>JSDoc already uses about 70 at names. https://jsdoc.app/</p>
<p>Pour du meta data Jome, utiliser deux étoiles comme JSDoc. Donc être comptatible et ne pas utiliser</p>
<p>Syntax pour dire que c'est un commentaire Jome: <code>/** */</code></p>

              </div>
            </div>
          </div>
        </body>
      </HTML>
    